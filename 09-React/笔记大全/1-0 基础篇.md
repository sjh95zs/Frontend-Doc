# 我的笔记

## React 基础

- React 要求必须在一个组件的**最外层**进行包裹，比如包裹一层`<div></div>`。如果不加 div，则可以引入 Fragment，它不会渲染到 dom 中

  ```js
  import React, { Component, Fragment } from 'react'

  class Xiaojiejie extends Component {
    render() {
      return (
        <Fragment>
          <div>
            <input type='text' />
            <button>增加服务</button>
          </div>
          <ul>
            <li>头部按摩</li>
            <li>脚底按摩</li>
            <li>肩部按摩</li>
          </ul>
        </Fragment>
      )
    }
  }
  ```

- 事件绑定：注意事件名大写；**需要重新设置 this 的指向**；可以传递参数 data

  ```html
  <button onClick="{this.addList.bind(this, data)}">按钮</button>
  ```

  ```js
  addList(data){
    console.log(data)
  }
  ```

- 列表循环：key 帮助 React 识别哪些元素改变了，比如被添加或删除。因此你应当给数组中的每一个元素赋予一个确定的标识；如果你提取 出一个 ListItem 组件，你应该把 key 保留在数组中的这个 `<ListItem />` 元素上，而不是放在 ListItem 组件中的 `<li>` 元素上；最好写成一个函数，然后 return 它

  ```js
  <ul>
    {this.state.list.map((item, index) => {
      return <li key={index + item}>{item}</li>
    })}
  </ul>
  ```

- ES6 解构写法

  ```js
  const { name, test } = this.state
  // 等价于
  const name = this.state.name
  const test = this.state.test
  ```

- css 类用的是 className="..."，而不是 class="..."

- `dangerouslySetInnerHTML={{ __html: item }}` 设置可以解析 HTML 标签

- label 标签：注意绑定目标用的是 htmlFor，而不是 for

  ```html
  <label htmlFor="jspang">请填写：</label> <input id="jspang" />
  ```

- 代码自动补全插件：Simple React Snippets

- 组件间传值

  - 父传子：属性 props

    ```html
    <!-- 父 -->
    <div>
      <XiaojiejieItem content="{item}" />
    </div>

    <!-- 子 -->
    <li>{this.props.content}</li>
    ```

  - 子传父：子调用父传过来的的方法

- 模拟数据请求 EasyMock
  EasyMock 网站:https://www.easy-mock.com/

## 路由：react-router-dom

> 根据路径的不同，显示不同的组件/页面

- BrowserRouter：创建一个路由，只能有一个根节点
- Route：每一个路由项，每个路由项都和对应的组件创建链接

  ```html
  <BrowserRouter>
    <div>
      <Route path="/list/:id" component="{NewList}" />
      <Route path="/button" component="{NewButton}" />
    </div>
  </BrowserRouter>
  ```

- Link：组件/页面之间的跳转。可以携带参数，参数可通过`this.props.match.params.id`获取

  ```html
  <Link to="/list/123">
    <Button type="primary">按钮</Button>
  </Link>
  ```

- Redirect：重定向，跟下面的 withRouter 类似
- withRouter：可以包装任何自定义组件，将 react-router 的 history,location,match 三个对象传入，实现任意跳转
